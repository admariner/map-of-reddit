(function(e){function t(t){for(var i,a,s=t[0],c=t[1],u=t[2],l=0,f=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={app:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1747:function(e,t,n){"use strict";n("ea0a")},"234b":function(e,t,n){"use strict";n("fd76")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.isWebGLEnabled?e._e():n("div",[e._m(0)]),e.isWebGLEnabled?n("div",[n("transition",{attrs:{name:"fade"}},[e.progressMessage?n("div",{staticClass:"progress"},[e._v(e._s(e.progressMessage))]):e._e()]),n("transition",{attrs:{name:"fade"}},[e.subgraphName?n("div",{staticClass:"progress subgraph"},[e._v(" Only "),n("a",{staticClass:"accent",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onSubgraphRootClick(t)}}},[e._v("/r/"+e._s(e.subgraphName))]),e._v(" related subreddits are shown. "),n("a",{staticClass:"accent",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onExitSubgraph(t)}}},[e._v("view all")])]):e._e()]),e.subreddit?n("subreddit",{staticClass:"preview",attrs:{name:e.subreddit},on:{declineAge:e.onDeclineAge}},[n("template",{slot:"after-title"},[n("div",[e.graphLoaded?n("a",{staticClass:"subreddit-action",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showRelated(t)}}},[e._v("Show related")]):e._e(),e.graphLoaded?e._e():n("span",{staticClass:"subreddit-action"},[e._v("the map is still loading...")])])])],2):e._e(),n("form",{staticClass:"search-box",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("typeahead",{attrs:{placeholder:"Find subreddit",showClearButton:e.subreddit,query:e.appState.query},on:{menuClicked:function(t){e.sidebarVisible=!0},selected:e.findSubreddit,beforeClear:e.closeSubredditOnSmallScreen,cleared:e.closeSubredditViewer,inputChanged:e.onTypeAheadInput}})],1),n("a",{staticClass:"accent improve",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onImproveClick(t)}}},[e._v("Improve this map")]),n("transition",{attrs:{name:"slide-bottom"}},[e.smallPreview?n("small-preview",{staticClass:"small-preview",attrs:{name:e.smallPreview}}):e._e()],1),n("transition",{attrs:{name:"slide-top"}},[e.improveVisible?n("improve-window",{staticClass:"improve-window",on:{close:function(t){e.improveVisible=!1}}}):e._e()],1),e.tooltip?n("tooltip",{staticClass:"tooltip",style:{left:e.tooltip.x+"px",top:e.tooltip.y+"px"},attrs:{data:e.tooltip}}):e._e(),n("transition",{attrs:{name:"fade"}},[e.sidebarVisible||e.improveVisible?n("div",{staticClass:"backdrop",on:{click:e.onBackdropClick}}):e._e()]),n("transition",{attrs:{name:"slide-left"}},[e.sidebarVisible?n("sidebar",{on:{close:function(t){e.sidebarVisible=!1}}}):e._e()],1)],1):e._e()])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"absolute no-webgl"},[n("h4",[e._v("WebGL is not enabled :(")]),n("p",[e._v("This website needs "),n("a",{staticClass:"accent",attrs:{href:"https://en.wikipedia.org/wiki/WebGL"}},[e._v("WebGL")]),e._v(" to render a map of reddit. ")]),e._v(" "),n("p",[e._v(" You can try another browser. If the problem persists - very likely your video card isn't supported. ")])])}],a=(n("e6b8"),n("3835")),s=n("5530"),c=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("159b"),n("6062"),n("a630"),n("4de4"),n("d81d"),n("1276"),n("ac1f"),n("c35a"),n("a9e3"),n("466d"),n("f00c"),n("9aeb")),u=(n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("ace4"),n("fb6a"),n("2b3d"),n("25f0"),n("00c7")),d=n.n(u),l=n("148d"),f=n.n(l),h=n("1a2d"),p=d()({}),m=p;function v(e){p.fire("progress",e())}n("5319");function g(e,t,n){var i,o=new Date;return function(){var r=new Date,a=r-o;clearTimeout(i),a>t?e.apply(n,arguments):(o=r,i=setTimeout(e,t,arguments))}}function b(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function w(e){var t=!1,n=f()(),i=Object(h["createStreamingSVGParser"])(s,c,!0),o=d()({load:a,dispose:r,getGraph:function(){return n}});return o;function r(){t=!0}function a(){var r=window.performance.now();function a(){return{message:"Loaded "+b(n.getLinkCount())+" relationship records"}}function s(t){if(e.indexOf("http")<0)return t;var n=new URL(e);return n.pathname=n.pathname.substr(0,n.pathname.lastIndexOf("/")+1)+t,n.toString()}return fetch(e,{mode:"cors"}).then((function(e){var n=e.body.getReader(),o=new TextDecoder;return n.read().then(r);function r(e){if(!t){var a=void 0!==e.value&&o.decode(e.value,{stream:!e.done})||"";return i(a).then((function(){if(!e.done)return n.read().then(r)}))}}})).then((function(){return console.log("Elapsed: ",window.performance.now()-r),v((function(){return{message:"Loading links..."}})),fetch(s("node-ids.txt"),{mode:"cors"}).then((function(e){return e.text()})).then((function(e){var t=e.split("\n");return t.forEach((function(e){return n.addNode(e)})),t}))})).then((function(e){var i,o,r,c;return fetch(s("links.bin"),{mode:"cors"}).then((function(e){return o=e.body.getReader(),o.read().then(u)}));function u(s){if(!t){var d=s.value;if(!d&&r)throw new Error("Incomplete response");if(!d)return v((function(){return{mapLoaded:!0}})),n;if(r){var l=new Uint8Array(r.byteLength+d.byteLength);l.set(new Uint8Array(r),0),l.set(new Uint8Array(d),r.byteLength),d=l,r=null}var f=4*Math.floor(d.byteLength/4);d.byteLength%4!==0&&(r=d.slice(f));for(var h=new DataView(d.buffer),p=0;p<f;p+=4){var m=h.getInt32(p,!0);if(m<0)i=-m-1,c=1,n.addNode(e[i]);else{var g=m-1;n.addLink(e[i],e[g],c),c+=1}}return s.done?(v((function(){return{mapLoaded:!0}})),n):(v(a),o.read().then(u))}}})),o}function s(e){o.fire("element-start",e)}function c(e){o.fire("element-end",e)}}var y=n("d4ec"),x=n("bee2"),_=n("262e"),C=n("2caf"),k=function(e){Object(_["a"])(n,e);var t=Object(C["a"])(n);function n(e){var i;Object(y["a"])(this,n);var o=Object(c["e"])({gl:e,vertex:"\n  uniform mat4 modelViewProjection;\n  uniform float opacity;\n  uniform float cameraDistance;\n\n  attribute float size;\n  attribute vec3 position;\n  attribute vec4 color;\n\n  attribute vec2 point; // instanced\n\n  varying vec4 vColor;\n  varying vec2 vPoint;\n  void main() {\n    gl_Position = modelViewProjection * vec4(position + vec3(point * size, 0.), 1.0);\n    vColor = color.abgr;\n    vColor[3] *= opacity *  (1. - smoothstep(0.0, 1., cameraDistance / (3000. * size)));\n    vPoint = point;\n  }",fragment:"\n  precision highp float;\n  varying vec4 vColor;\n  varying vec2 vPoint;\n  void main() {\n    float dist = length(vPoint);\n    if (dist >= 0.5) {discard;}\n    gl_FragColor = vColor;\n  }",attributes:{color:new c["a"]},instanced:{point:new c["c"]([-.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5])},preDrawHook:function(){return"gl.enable(gl.DEPTH_TEST);\n        gl.depthFunc(gl.LEQUAL);"},postDrawHook:function(){return"gl.disable(gl.DEPTH_TEST);"}});return i=t.call(this,o),i.opacity=1,i}return Object(x["a"])(n,[{key:"draw",value:function(e,t){this.uniforms||(this.uniforms={modelViewProjection:this.modelViewProjection,opacity:this.opacity}),this.uniforms.opacity=this.opacity,this.uniforms.cameraDistance=t.view.position[2],this.program.draw(this.uniforms)}},{key:"clear",value:function(){this.program.setCount(0)}}]),n}(c["b"]),S=(n("0481"),n("5664")),E=n.n(S),L=function(e){Object(_["a"])(n,e);var t=Object(C["a"])(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(y["a"])(this,n);var r=Object(c["e"])({gl:e,debug:o.debug,vertex:"\n  uniform mat4 modelViewProjection;\n  uniform float opacity;\n\n  attribute vec2 point;\n  attribute vec4 color;\n  varying vec4 vColor;\n\n  void main() {\n    gl_Position = modelViewProjection * vec4(point, -1.0, 1.0);\n    vColor = color.abgr;\n    vColor[3] *= opacity;\n  }",fragment:"\n  precision highp float;\n\n  varying vec4 vColor;\n\n  void main() {\n    gl_FragColor = vColor;\n  }",attributes:{color:new c["a"]}});return i=t.call(this,r),i.opacity=void 0===o.opacity?1:o.opacity,i.color=o.color||255,i}return Object(x["a"])(n,[{key:"draw",value:function(){this.uniforms||(this.uniforms={modelViewProjection:this.modelViewProjection,opacity:this.opacity}),this.uniforms.opacity=this.opacity,this.program.draw(this.uniforms)}},{key:"clear",value:function(){this.program.setCount(0)}},{key:"addPolygon",value:function(e){var t=e.polygon,n=e.color;t=t.flat();for(var i=E()(t),o=0;o<i.length;o++){var r=2*i[o];this.add({point:[t[r],t[r+1]],color:n||this.color})}for(var a=0;a<3;++a)this.add({point:[0,0],color:0})}}]),n}(c["b"]),T=n("b85c"),P=function(e){Object(_["a"])(n,e);var t=Object(C["a"])(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(y["a"])(this,n),e.getExtension("OES_standard_derivatives"),i=t.call(this,O(e,o));var r=i.msdfImage=new Image;r.crossOrigin="Anonymous",i.isReady=!1,i.queue=[],i.fontSize=o.fontSize||2,i.opacity=void 0!==o.opacity?o.opacity:1,i.fontInfo=null;var a="fonts";return fetch("".concat(a,"/Roboto.json"),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){i.fontInfo=e,i.alphabet=new Map,e.chars.forEach((function(e){var t=String.fromCharCode(e.id);i.alphabet.set(t,e)})),i.msdfImage.onload=function(){i._sdfTextureChanged=!0,i.program.setTextureCanvas("msdf",i.msdfImage),i.isReady=!0,i.sdfTextureWidth=r.width,i.sdfTextureHeight=r.height,i.queue.forEach((function(e){return i.addText(e)})),i.queue=[]},i.msdfImage.src="".concat(a,"/Roboto0.png")})),i}return Object(x["a"])(n,[{key:"clear",value:function(){this.program.setCount(0)}},{key:"draw",value:function(e,t){this.uniforms||(this.uniforms={modelViewProjection:this.modelViewProjection,color:[.9,.9,.9,1],bias:.5,opacity:this.opacity}),this.uniforms.cameraDistance=t.view.position[2],this.uniforms.opacity=this.opacity,this.uniforms.color[0]=.2,this.uniforms.color[1]=.4,this.uniforms.color[2]=.8,this.uniforms.color[3]=.8,this.uniforms.bias=.35,this.program.draw(this.uniforms),this.uniforms.color[0]=.9,this.uniforms.color[1]=.9,this.uniforms.color[2]=.9,this.uniforms.color[3]=1,this.uniforms.bias=.5,this.program.draw(this.uniforms)}},{key:"addText",value:function(e){if(this.isReady){var t=e.text,n=e.x,i=void 0===n?0:n,o=e.y,r=void 0===o?0:o,a=e.z,s=void 0===a?0:a;if(void 0===t)throw new Error("Text is not defined in "+e);var c=0,u=e.fontSize||this.fontSize;if(void 0!==e.limit){var d,l=0,f=Object(T["a"])(t);try{for(f.s();!(d=f.n()).done;){var h=d.value,p=this.alphabet.get(h);p&&(l+=p.xadvance)}}catch(S){f.e(S)}finally{f.f()}u=e.limit*this.fontInfo.info.size/l}var m=u/this.fontInfo.info.size;if(void 0!==e.cx){var v,g=0,b=Object(T["a"])(t);try{for(b.s();!(v=b.n()).done;){var w=v.value,y=this.alphabet.get(w);y&&(g+=y.xadvance)}}catch(S){b.e(S)}finally{b.f()}c-=g*e.cx*m}void 0!==e.cy&&(r+=u*e.cy);var x,_=Object(T["a"])(t);try{for(_.s();!(x=_.n()).done;){var C=x.value,k=this.alphabet.get(C);k?(this.add({position:[i+c,r-k.yoffset*m,s],charSize:[u*k.width/42,-u*k.height/42,u],texturePosition:[k.x/this.sdfTextureWidth,1-k.y/this.sdfTextureHeight,k.width/this.sdfTextureWidth,-k.height/this.sdfTextureHeight]}),c+=k.xadvance*m):console.error(C+" is missing in the font")}}catch(S){_.e(S)}finally{_.f()}this.scene&&this.scene.renderFrame()}else this.queue.push(e)}}]),n}(c["b"]);function O(e,t){return Object(c["e"])({capacity:t.capacity||1,buffer:t.buffer,debug:t.debug,gl:e,vertex:"\n  uniform mat4 modelViewProjection;\n  uniform vec4 color;\n  uniform float cameraDistance;\n\n  // Position of the text character:\n  attribute vec3 position;\n  // Instanced quad coordinate:\n  attribute vec2 point;\n  attribute vec3 charSize;\n  // [x, y, w, h] - of the character in the msdf texture;\n  attribute vec4 texturePosition;\n\n  varying vec4 vColor;\n  varying vec2 vPoint;\n\n  void main() {\n    gl_Position = modelViewProjection * vec4(position + vec3(vec2(point.x, point.y) * charSize.xy, position.z), 1.);\n    vPoint = texturePosition.xy + point * texturePosition.zw;\n    vColor = color;\n    vColor[3] *= (1. - smoothstep(0.0, 1., cameraDistance / (5000. * charSize.z)));\n  }",fragment:"\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n  precision highp float;\n  varying vec2 vPoint;\n  varying vec4 vColor;\n\n  uniform float bias;\n  uniform float opacity;\n  uniform float cameraDistance;\n  uniform sampler2D msdf;\n\n  float median(float r, float g, float b) {\n    return max(min(r, g), min(max(r, g), b));\n  }\n\n  void main() {\n    vec3 sample = texture2D(msdf, vPoint).rgb;\n    float sigDist = median(sample.r, sample.g, sample.b) - bias;\n    float alpha = clamp(sigDist / fwidth(sigDist) + bias, 0.0, 1.0);\n    gl_FragColor = vec4(vColor.rgb, vColor.a * alpha * opacity);\n  }",instanced:{point:new c["c"]([0,0,1,0,1,1,1,1,0,0,0,1])}})}var j=function(e){Object(_["a"])(n,e);var t=Object(C["a"])(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(y["a"])(this,n),e.getExtension("OES_standard_derivatives"),i=t.call(this,N(e,o));var r=i.msdfImage=new Image;r.crossOrigin="Anonymous",i.isReady=!1,i.queue=[],i.fontSize=o.fontSize||2,i.opacity=void 0!==o.opacity?o.opacity:1,i.fontInfo=null;var a="fonts";return fetch("".concat(a,"/Roboto.json"),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){i.fontInfo=e,i.alphabet=new Map,e.chars.forEach((function(e){var t=String.fromCharCode(e.id);i.alphabet.set(t,e)})),i.msdfImage.onload=function(){i._sdfTextureChanged=!0,i.program.setTextureCanvas("msdf",i.msdfImage),i.isReady=!0,i.sdfTextureWidth=r.width,i.sdfTextureHeight=r.height,i.queue.forEach((function(e){return i.addText(e)})),i.queue=[]},i.msdfImage.src="".concat(a,"/Roboto0.png")})),i}return Object(x["a"])(n,[{key:"clear",value:function(){this.program.setCount(0)}},{key:"draw",value:function(e,t){this.uniforms||(this.uniforms={modelViewProjection:this.modelViewProjection,bias:.5,opacity:this.opacity}),this.uniforms.opacity=this.opacity,this.uniforms.cameraDistance=t.view.position[2],this.uniforms.bias=.5,this.program.draw(this.uniforms)}},{key:"addText",value:function(e){if(this.isReady){var t=e.text,n=e.x,i=void 0===n?0:n,o=e.y,r=void 0===o?0:o,a=e.z,s=void 0===a?0:a;if(void 0===t)throw new Error("Text is not defined in "+e);var c=0,u=e.fontSize||this.fontSize;if(void 0!==e.limit){var d,l=0,f=Object(T["a"])(t);try{for(f.s();!(d=f.n()).done;){var h=d.value,p=this.alphabet.get(h);p&&(l+=p.xadvance)}}catch(S){f.e(S)}finally{f.f()}u=e.limit*this.fontInfo.info.size/l}var m=u/this.fontInfo.info.size;if(void 0!==e.cx){var v,g=0,b=Object(T["a"])(t);try{for(b.s();!(v=b.n()).done;){var w=v.value,y=this.alphabet.get(w);y&&(g+=y.xadvance)}}catch(S){b.e(S)}finally{b.f()}c-=g*e.cx*m}void 0!==e.cy&&(r+=u*e.cy);var x,_=Object(T["a"])(t);try{for(_.s();!(x=_.n()).done;){var C=x.value,k=this.alphabet.get(C);k?(this.add({position:[i+c,r-k.yoffset*m,s],color:e.color,charSize:[u*k.width/42,-u*k.height/42,u],texturePosition:[k.x/this.sdfTextureWidth,1-k.y/this.sdfTextureHeight,k.width/this.sdfTextureWidth,-k.height/this.sdfTextureHeight]}),c+=k.xadvance*m):console.error(C+" is missing in the font")}}catch(S){_.e(S)}finally{_.f()}this.scene&&this.scene.renderFrame()}else this.queue.push(e)}}]),n}(c["b"]);function N(e,t){return Object(c["e"])({capacity:t.capacity||1,buffer:t.buffer,debug:t.debug,gl:e,vertex:"\n  uniform mat4 modelViewProjection;\n  uniform float cameraDistance;\n\n  attribute vec4 color;\n\n  // Position of the text character:\n  attribute vec3 position;\n  // Instanced quad coordinate:\n  attribute vec2 point;\n  attribute vec3 charSize;\n  // [x, y, w, h] - of the character in the msdf texture;\n  attribute vec4 texturePosition;\n\n  varying vec2 vPoint;\n  varying vec4 vColor;\n\n  void main() {\n    gl_Position = modelViewProjection * vec4(\n      position + vec3(vec2(point.x, point.y) * charSize.xy, position.z), 1.);\n    vPoint = texturePosition.xy + point * texturePosition.zw;\n    vColor = color.abgr;\n    vColor[3] = smoothstep(0.2, 0.8, cameraDistance / (50. * charSize.z) );\n  }",fragment:"\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n  precision highp float;\n  varying vec2 vPoint;\n  varying vec4 vColor;\n\n  uniform float bias;\n  uniform float opacity;\n  uniform sampler2D msdf;\n\n  float median(float r, float g, float b) {\n    return max(min(r, g), min(max(r, g), b));\n  }\n\n  void main() {\n    vec3 sample = texture2D(msdf, vPoint).rgb;\n    float sigDist = median(sample.r, sample.g, sample.b) - bias;\n    float alpha = clamp(sigDist / fwidth(sigDist) + bias, 0.0, 1.0);\n    gl_FragColor = vec4(vColor.rgb, vColor.a * alpha * opacity);\n  }",attributes:{color:new c["a"]},instanced:{point:new c["c"]([0,0,1,0,1,1,1,1,0,0,0,1])}})}var I=n("bbd6");function G(){var e=[],t={addWord:n,find:i};return t;function n(t){e.push(t)}function i(t){var n=I.goAsync(t,e,{limit:10});return n.then((function(e){return e.map((function(e){return{html:I.highlight(e,"<b>","</b>"),text:e.target}}))}))}}var D,M=n("9cf4"),F=M.instance({},{useSearch:!0}),z={query:F.get("q")||"",userTypedSomething:!1,getFilePath:function(){return F.get("graph")||"https://anvaka.github.io/map-of-reddit-data/graph.svg"},saveQuery:function(e){e?F.set({q:e}):F.unset("q")},getQueryState:function(){return F},getCameraPosition:function(){var e=["x","y","z"].map((function(e){var t=Number.parseFloat(F.get(e));if(Number.isFinite(t))return t})).filter((function(e){return void 0!==e}));if(3===e.length)return e},saveScenePosition:function(e){D&&(clearTimeout(D),D=0),D=setTimeout((function(){D=0;var t=e.getDrawContext(),n=Object(a["a"])(t.view.position,3),i=n[0],o=n[1],r=n[2],s={x:i,y:o,z:r};F.set(s)}),300)}},R=(n("99af"),{PRIMARY_HIGHLIGHT_COLOR:3206640383,SECONDARY_HIGHLIGHT_COLOR:3849038591,TERNARY_COLOR:3705462015,TERNARY_LINK:2290649156}),H={Polygons:0,Edges:5,HighlightedEdges:7,Nodes:10,Labels:12,Text:15},V={MainGraph:"main-graph-view"},A=(n("4057"),n("25a5")),q=n.n(A),B=n("471e"),$=n.n(B),Q=function(e){Object(_["a"])(n,e);var t=Object(C["a"])(n);function n(e,i){var o;Object(y["a"])(this,n);var r=Object(c["e"])({gl:e,vertex:"\nuniform mat4 modelViewProjection;\nuniform float width;\n\nattribute vec3 from, to;\nattribute vec2 point;\nattribute vec4 color;\nvarying vec2 vPoint;\nvarying vec4 vColor;\n\nvoid main() {\n  vec2 xBasis = normalize(to - from).xy;\n  vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n  vec4 clip0 = modelViewProjection * vec4(from.xy + width * yBasis * point.x, from.z, 1.0);\n  vec4 clip1 = modelViewProjection * vec4(to.xy + width * yBasis * point.x, to.z, 1.0);\n  gl_Position = mix(clip0, clip1, point.y);\n  vColor = color;\n}",fragment:"\n    precision highp float;\n    varying vec4 vColor;\n\n    void main() {\n      gl_FragColor = vColor.abgr;\n    }",attributes:{color:new c["a"]},instanced:{point:new c["c"]([-.5,0,-.5,1,.5,1,-.5,0,.5,1,.5,0])}});return o=t.call(this,r),o.width=i&&i.width||1,o}return Object(x["a"])(n,[{key:"draw",value:function(){this.uniforms||(this.uniforms={modelViewProjection:this.modelViewProjection,width:this.width}),this.uniforms.width=this.width,this.program.draw(this.uniforms)}},{key:"clear",value:function(){this.program.setCount(0)}}]),n}(c["b"]);function W(e,t){var n=new q.a,i=!1,o=!1,r=e.getScene();r.on("click",v),r.on("mousemove",b),r.on("transform",d);var s=new k(r.getGL()),c=new Q(r.getGL(),{width:60}),u=new Q(r.getGL(),{width:20});return e.addToLayer(u,H.Edges),e.addToLayer(c,H.HighlightedEdges),e.addToLayer(s,H.Nodes),t.elementsGroupName&&(e.addToNamedGroup(c,t.elementsGroupName),e.addToNamedGroup(u,t.elementsGroupName),e.addToNamedGroup(s,t.elementsGroupName)),{addNode:h,clearHighlights:l,focusUI:f,dispose:p,setPaused:g};function d(e){var n=e.view.position[2],o=Math.min(n,8e3);c.width=Math.max(1,60*o/8e3),u.width=Math.max(1,20*o/8e3),i=!0,t&&t.onTransform&&t.onTransform()}function l(){c.clear(),u.clear(),s.clear()}function f(e){void 0!==e&&m.fire("show-subreddit",e.name);var n=t&&t.getGraph&&t.getGraph();e||i||!n||(l(),m.fire("show-subreddit",null),r.renderFrame()),i=!1,e&&(l(),t.getHighlightedLinks(e).forEach((function(e){var t=e.isFirstLevel?c:u;t.add(e)})),t.getHighlightedNodes(e).forEach((function(e){return s.add(e)})),r.renderFrame())}function h(e){var t=e.position,i=e.size/2;n.insert({minX:t[0]-i,minY:t[1]-i,maxX:t[0]+i,maxY:t[1]+i,ui:e})}function p(){r.removeChild(c),r.removeChild(u),r.removeChild(s),r.off("click",v),r.off("mousemove",b),r.off("transform",d)}function v(e){var t=w(e.x,e.y);f(t)}function g(e){o=e}function b(e){if(!o){var t=w(e.x,e.y);void 0===t?m.fire("show-tooltip",null):m.fire("show-tooltip",{x:e.originalEvent.clientX,y:e.originalEvent.clientY,data:t.name})}}function w(e,t){var i=$()(n,e,t,1),o=i[0];if(void 0!==o){var r=o.ui,s=Object(a["a"])(r.position,2),c=s[0],u=s[1],d=Math.hypot(e-c,t-u);return d<r.size/2?r:void 0}}}var Y=n("2b44"),K={easeInQuart:function(e){return e*e*e*e}};function U(e,t,n,i){var o,r,a=400,c=0,u=new Map,d=n.getScene(),l=new k(d.getGL()),f=new P(d.getGL()),h=Z(n,12,t);n.addToLayer(l,H.Nodes),n.addToLayer(f,H.Text);var p=W(n,{getGraph:function(){return c<a&&e},getHighlightedLinks:w,getHighlightedNodes:b});return m.on("subgraph-focus-node",g),{dispose:y,run:x};function g(e){p.focusUI(u.get(e))}function b(t){var n=Object(s["a"])({},u.get(t.name));n.color=R.PRIMARY_HIGHLIGHT_COLOR;var i=[n];return e.forEachLinkedNode(t.name,(function(e){var t=Object(s["a"])({},u.get(e.id));t.color=R.SECONDARY_HIGHLIGHT_COLOR,i.push(t)})),i}function w(t){var n=[];return e.forEachLink((function(e){var i=e.fromId===t.name||e.toId===t.name;n.push({from:u.get(e.fromId).position,to:u.get(e.toId).position,color:i?4294967295:R.TERNARY_LINK,isFirstLevel:i})})),n}function y(e){cancelAnimationFrame(r),m.off("subgraph-focus-node",g),f.parent.removeChild(f),f.dispose(),p.dispose(),h.startSceneRestoration((function(){l.parent.removeChild(l),l.dispose(),e&&e()}),u,i,l,void 0===e),r=null,d.renderFrame()}function x(){h.startFadeOut(),_()}function _(){o=Y(e,{timeStep:80,springLength:5e3,springCoefficient:1e-5,gravity:-120,nodeMass:function(e){var t=i.get(e);return t.size*Math.sqrt(t.size)}}),O(),r=requestAnimationFrame(C)}function C(){for(var e=0;e<10;++e)o.step();T(),c++<a?(r=requestAnimationFrame(C),c%10===0&&v((function(){return{message:"Layout step ".concat(c," of ").concat(a,". Please wait...")}}))):E(),d.setViewBox(L()),d.renderFrame()}function S(){var t=null;if(e.forEachNode((function(e){if(e.data&&e.data.isRoot)return t=e.id,!0})),!t)throw new Error("Root node is missing in the subgraph");return t}function E(){e.forEachNode((function(e){var t=o.getNodePosition(e.id),n=t.x,i=t.y,r=u.get(e.id);p.addNode(r),f.addText({x:n,y:i-.75*r.size,text:r.name,limit:2*r.size,cx:.5})}));var t=S();p.focusUI(u.get(t)),v((function(){return{subgraphDone:!0,subgraphName:t}}))}function L(){var t={left:1/0,right:-1/0,top:1/0,bottom:-1/0};return e.forEachNode((function(e){var n=o.getNodePosition(e.id),i=n.x,r=n.y;i<t.left&&(t.left=i),i>t.right&&(t.right=i),r<t.top&&(t.top=r),r>t.bottom&&(t.bottom=r)})),t}function T(){e.forEachNode((function(e){var t=o.getNodePosition(e.id),n=u.get(e.id);n.position[0]=t.x,n.position[1]=t.y,l.update(n.id,n)}))}function O(){e.forEachNode((function(e){var t=i.get(e.id);if(!t)throw new Error("Missing ui for node: "+e.id);var n=X(t.position),r=R.TERNARY_COLOR,a={position:n,color:r,size:t.size,id:u.size,name:t.name};u.set(t.name,a),l.add(a),o.setNodePosition(e.id,n[0],n[1])}))}}function Z(e,t,n){var i,o,r,a,s,c,u,d,l=0,f=e.getScene();return{startZoomOut:h,startZoomIn:p,startFadeOut:v,startSceneRestoration:g,dispose:function(){cancelAnimationFrame(i)}};function h(e){l=0,r=m();var t=n.width,c=n.height,u=n.top,d=n.left;a={top:u,left:d,right:d+t,bottom:u+c},o=w,s=function(){v(),e()},cancelAnimationFrame(i),i=requestAnimationFrame(b)}function p(e,t){o=w,l=0,r=m(),a=e,cancelAnimationFrame(i),i=requestAnimationFrame(b),s=null,t&&(s=t)}function m(){var e=f.getDrawContext(),t=e.view.position,n=t[2]*Math.tan(e.fov/2)/e.pixelRatio;return{left:t[0]-n,right:t[0]+n,top:t[1]-n,bottom:t[1]+n}}function v(){e.getNamedGroup(V.MainGraph).elements.forEach((function(e){e.opacity=0})),e.hideNamedGroup(V.MainGraph)}function g(t,n,r,a,s){if(s)return e.restoreNamedGroup(V.MainGraph),e.getNamedGroup(V.MainGraph).elements.forEach((function(e){e.opacity=1})),void t();l=0,o=x,cancelAnimationFrame(i),i=requestAnimationFrame(b),c=t,d=a,u=[],n.forEach((function(e,t){u.push({ui:e,from:X(e.position),to:r.get(t).position})}))}function b(){if(l>=t)return l=t,void o(1);i=requestAnimationFrame(b),o(l/t),l+=1}function w(e){if(1===e)return s&&s(),void(s=null);f.setViewBox({top:y(r.top,a.top,e),left:y(r.left,a.left,e),right:y(r.right,a.right,e),bottom:y(r.bottom,a.bottom,e)}),f.renderFrame()}function y(e,t,n){return t*n+e*(1-n)}function x(t){0===t&&e.restoreNamedGroup(V.MainGraph);var n=K.easeInQuart(t);e.getNamedGroup(V.MainGraph).elements.forEach((function(e){e.opacity=n})),u.forEach((function(e){var n=e.ui;n.position[0]=y(e.from[0],e.to[0],t),n.position[1]=y(e.from[1],e.to[1],t),d.update(n.id,n)})),e.getScene().renderFrame(),1===t&&c&&c()}}function X(e){return[e[0],e[1],e[2]]}function J(e){var t=new Map;return{addToLayer:r,addToNamedGroup:i,hideNamedGroup:o,restoreNamedGroup:n,getNamedGroup:function(e){return t.get(e)},getScene:function(){return e}};function n(e){var n=t.get(e);if(void 0===n)throw new Error("No such group: "+e);n.isHidden&&(n.isHidden=!1,n.elements.forEach((function(e){r(e,e.layer)})))}function i(e,n){var i=t.get(n);void 0===i&&(i={elements:[],isHidden:!1},t.set(n,i)),i.elements.push(e)}function o(e){var n=t.get(e);if(!n)throw new Error("No group with such name: "+e);n.isHidden||(n.isHidden=!0,n.elements.forEach((function(e){e.parent&&e.parent.removeChild(e)})))}function r(t,n){t.layer=n;var i=e.getRoot(),o=null;i.children.forEach((function(e){var t=e.layer;void 0===t&&(console.warn("Scene element without layer index",t),t=0),t<=n&&(o=e)})),o?i.insertChildAfter(t,o):i.appendChild(t,!0)}}function ee(e){var t=!1,n=fe(),i=G();window.fuzzySearcher=i;var o,r,u,d=z.query,l=new k(n.getGL()),p=new L(n.getGL(),{color:306283172,opacity:1}),y=new P(n.getGL()),x=new j(n.getGL()),_=te(),C=[],S=new Map,E=new Map,T=new Map,O=new Map,N=g(v,100,window),I=J(n);I.addToLayer(p,H.Polygons),I.addToLayer(l,H.Nodes),I.addToLayer(y,H.Text),I.addToLayer(x,H.Labels),I.addToNamedGroup(p,V.MainGraph),I.addToNamedGroup(l,V.MainGraph),I.addToNamedGroup(y,V.MainGraph),I.addToNamedGroup(x,V.MainGraph);var D=W(I,{elementsGroupName:V.MainGraph,onTransform:function(){u||z.saveScenePosition(n)},getGraph:function(){return o&&o.getGraph()},getHighlightedNodes:M,getHighlightedLinks:F});return m.on("focus-node",B),m.on("unfocus",$),m.on("exit-subgraph",Q),{loadSVG:Y,focus:function(){e.focus()},dispose:q,showRelated:A,getScene:function(){return n}};function M(e){var t=o&&o.getGraph();if(!t)return[];var n=E.get(e.componentId),i=Object(s["a"])({},S.get(e.name));i.color=R.PRIMARY_HIGHLIGHT_COLOR;var r=[i];return t.forEachLinkedNode(e.name,(function(e){var t=Object(s["a"])({},S.get(e.id));t.color=R.SECONDARY_HIGHLIGHT_COLOR,r.push(t),n.has(e.id)})),r}function F(e){var t=o&&o.getGraph();if(!t)return[];var n,i=10,r=E.get(e.componentId),a=T.get(e.componentId),s=[];return r.forEach((function(o){n=0,t.forEachLinkedNode(o,(function(t){if(r.has(t.id)){var c=o===e.name||t.id===e.name;n>i&&!c||(s.push({from:S.get(o).position,to:S.get(t.id).position,color:c?4294967295:a,isFirstLevel:c}),n+=1)}}))})),s}function A(e){var t=f()();t.addNode(e,{isRoot:!0});var n=o.getGraph(),i=new Set;function a(e,t){n.forEachLinkedNode(e,(function(e){t.add(e.id)}))}function s(){u=U(t,r,I,S),u.run()}a(e,i),Array.from(i).forEach((function(e){a(e,i)})),i.forEach((function(o){var r=t.getNode(o);if(!r||!r.data){var a=n.hasLink(o,e)||n.hasLink(t,o);t.addNode(o,{isFirstChild:a})}n.forEachLinkedNode(o,(function(n,o){if(i.has(n.id)&&!t.hasLink(o.fromId,o.toId)){var r=o.fromId===e||o.toId===e;t.addLink(o.fromId,o.toId,{isRootLevel:r})}}))})),D.setPaused(!0),u&&(u.dispose(),u=null),s()}function q(){o&&o.dispose(),m.off("focus-node",B),m.off("unfocus",$),m.off("exit-subgraph",Q),D.dispose(),n.dispose()}function B(e){var t=S.get(e);if(t){var i=Object(a["a"])(t.position,2),o=i[0],r=i[1],s=2*(t.size||10);n.setViewBox({left:o-s,top:r-s,right:o+s,bottom:r+s}),u&&(u.dispose((function(){D.setPaused(!1)})),u=null),D.focusUI(t),n.renderFrame()}}function $(){D.clearHighlights(),n.renderFrame()}function Q(){u&&(u.dispose((function(){D.setPaused(!1)})),u=null)}function Y(e){o&&o.dispose(),o=w(e).on("element-start",K).on("element-end",Z).load()}function K(e){if("svg"===e.tagName){var i=(e.attributes.get("viewBox")||"0 0 1024 1024").split(" ").map((function(e){return Number.parseFloat(e)})).filter(ne);if(4!==i.length)throw new Error("Unknown viewBox definition: "+e.attributes.get("viewBox"));r={left:i[0],top:i[1],width:i[2],height:i[3]},t||n.setViewBox({left:r.left,top:r.top,right:r.left+r.width,bottom:r.top+r.height})}else if("path"===e.tagName)ce(e);else if("circle"===e.tagName)ee(e);else{var o=e.attributes.get("transform");o&&_.pushTransform(o)}}function Z(e){var t=e.attributes.get("transform");t&&_.popTransform(t),"text"===e.tagName&&e.innerText&&X(e)}function X(e){var t=ie(e,"font-size"),n=Math.floor(255*(e.attributes.has("fill-opacity")?ie(e,"fill-opacity"):.2)),i=0;e.attributes.has("fill")&&(i=re(Object(h["getElementFillColor"])(e))),i=4294967040&i|n,x.addText({x:ie(e,"x"),y:se(ie(e,"y")-t),color:i,text:e.innerText,fontSize:t})}function ee(e){var t=ie(e,"cx"),o=se(ie(e,"cy")),r=ie(e,"r"),a=oe(e,"id");if("_"===a[0]&&(a=a.substr(1)),S.has(a))throw new Error("Duplicate node name "+a);var s=oe(e.parent,"id"),c=E.get(s);c||(c=new Set,E.set(s,c)),c.add(a);var u=_.transform(t,o),f={componentId:s,position:u,color:3705462015,size:2*r,id:C.length,name:a};S.set(a,f),C.push(f),D.addNode(f),l.add(f),y.addText({x:u[0],y:u[1]-r,text:a,limit:3.14*r,cx:.5}),i.addWord(a),N(ae),n.renderFrame(),d&&a===d&&z.query===d&&!z.userTypedSomething&&m.fire("show-subreddit",a)}function ae(){return{message:"Loaded "+b(S.size)+" subreddits..."}}function se(e){return r.height+r.top-e}function ce(e){var t=he(e),i=t.points,o=t.color;p.addPolygon({polygon:i,color:o});var r=e.attributes.get("id").substr(1);O.set(r,o),T.set(r,ue(o)),n.renderFrame()}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:170,i=e>>24&255,o=e>>16&255,r=e>>8&255,s=de(i,o,r),c=Object(a["a"])(s,3),u=c[0],d=c[1],l=c[2];l>.5&&(t=.8);var f=le(u,d,Math.min(1,l*t)),h=Object(a["a"])(f,3),p=h[0],m=h[1],v=h[2];return p<<24|m<<16|v<<8|n}function de(e,t,n){e/=255,t/=255,n/=255;var i,o,r=Math.max(e,t,n),a=Math.min(e,t,n),s=(r+a)/2;if(r==a)i=o=0;else{var c=r-a;switch(o=s>.5?c/(2-r-a):c/(r+a),r){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i/=6}return[i,o,s]}function le(e,t,n){var i,o,r;if(0==t)i=o=r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;i=c(s,a,e+1/3),o=c(s,a,e),r=c(s,a,e-1/3)}return[Math.round(255*i),Math.round(255*o),Math.round(255*r)];function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}}function fe(){var n=Object(c["d"])(e,{allowPinchRotation:!1,maxZoom:15e5,minZoom:50});n.setClearColor(15/255,15/255,15/255,1);var i=z.getCameraPosition();if(i){var o=n.getDrawContext().view.position;o[0]=i[0],o[1]=i[1],o[2]=i[2],n.getCamera().setViewBox(),t=!0}else{var r=500;n.setViewBox({left:-r,top:-r,right:r,bottom:r})}return n}function he(e){var t=Object(h["getPointsFromPathData"])(e.attributes.get("d")).map((function(e){var t=Object(a["a"])(e,2),n=t[0],i=t[1],o=_.transform(n,se(i)),r=Object(a["a"])(o,2),s=r[0],c=r[1];return[s,c]})),n=re(Object(h["getElementFillColor"])(e));return{points:t,color:n}}}function te(){var e=!1,t=0,n=0,i=[];return{pushTransform:o,popTransform:r,transform:s};function o(t){e=!0,i.push(a(t))}function r(){if(0===i.length)throw new Error("Nothing to pop");i.pop(),e=!0}function a(e){var t=e.match(/matrix\((.+)\)$/i);if(!t)throw new Error("Unknown transformation record: "+e);var n=t[1].split(",").map((function(e){return Number.parseFloat(e)})).filter(ne);if(6!==n.length)throw new Error("Only matrix(a,b,c,d,e,f) is supported at the moment");return n}function s(e,i){return c(),[e+t,i-n,0]}function c(){e&&(t=0,n=0,i.forEach((function(e){t+=e[4],n+=e[5]})),e=!1)}}function ne(e){return Number.isFinite(e)}function ie(e,t){var n=Number.parseFloat(e.attributes.get(t));if(!Number.isFinite(n))throw new Error("Element "+e.tagName+" does not have a finite numeric attribute "+t);return n}function oe(e,t){return e.attributes.get(t)||""}function re(e){return e[0]<<24|e[1]<<16|e[2]<<8|255}var ae,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" "+e._s(e.data.data)+" ")])},ce=[],ue={props:["data"],data:function(){return{}},methods:{}},de=ue,le=n("2877"),fe=Object(le["a"])(de,se,ce,!1,null,null,null),he=fe.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideSuggestions,expression:"hideSuggestions"}],staticClass:"ak-typeahead"},[n("a",{staticClass:"menu-opener",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.menuClicked(t)}}},[n("svg",{staticClass:"feather feather-info",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[n("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),n("line",{attrs:{x1:"12",y1:"16",x2:"12",y2:"12"}}),n("line",{attrs:{x1:"12",y1:"8",x2:"12.01",y2:"8"}})])]),n("input",{ref:"input",attrs:{autofocus:"",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",placeholder:e.placeholder},domProps:{value:e.currentQuery},on:{input:e.handleInput,keydown:e.cycleTheList}}),e.currentQuery||e.showClearButton?n("a",{staticClass:"search-submit",attrs:{type:"submit",href:"#"},on:{click:function(t){return t.preventDefault(),e.clearSearch(t)}}},[n("svg",{staticClass:"feather feather-x-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[n("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),n("line",{attrs:{x1:"15",y1:"9",x2:"9",y2:"15"}}),n("line",{attrs:{x1:"9",y1:"9",x2:"15",y2:"15"}})])]):e._e(),e.showSuggestions?n("ul",{staticClass:"suggestions"},e._l(e.suggestions,(function(t,i){return n("li",{key:i},[n("a",{staticClass:"suggestion",class:{selected:t.selected},attrs:{href:"#"},domProps:{innerHTML:e._s(t.html)},on:{click:function(n){return n.preventDefault(),e.pickSuggestion(t)}}})])})),0):e._e(),e.showLoading?n("ul",{staticClass:"suggestions"},[n("li",{staticClass:"searching"},[e.loadingError?e._e():n("span",[e._v("Searching...")]),e.loadingError?n("div",{staticClass:"loading-error"},[n("div",[e._v("Failed to get reddit completions:")]),n("pre",[e._v(e._s(e.loadingError))])]):e._e()])]):e._e()])},me=[],ve=(n("7db0"),n("a434"),[]),ge="@@clickoutsideContext",be=0;function we(e,t,n){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n&&n.context&&i.target&&o.target&&!e.contains(i.target)&&!e.contains(o.target)&&e!==i.target&&(!n.context.popperElm||!n.context.popperElm.contains(i.target)&&!n.context.popperElm.contains(o.target))){var r=e[ge].methodName;t.expression&&r&&n.context[r]?n.context[r]():e[ge].bindingFn&&e[ge].bindingFn()}}}document.addEventListener("mousedown",(function(e){return ae=e})),document.addEventListener("mouseup",(function(e){ve.forEach((function(t){return t[ge].documentHandler(e,ae)}))})),document.addEventListener("touchstart",(function(e){ae=e})),document.addEventListener("touchend",(function(e){ve.forEach((function(t){return t[ge].documentHandler(e,ae)}))}));var ye={bind:function(e,t,n){ve.push(e);var i=be++;e[ge]={id:i,documentHandler:we(e,t,n),methodName:t.expression,bindingFn:t.value}},update:function(e,t,n){e[ge].documentHandler=we(e,t,n),e[ge].methodName=t.expression,e[ge].bindingFn=t.value},unbind:function(e){for(var t=ve.length,n=0;n<t;n++)if(ve[n][ge].id===e[ge].id){ve.splice(n,1);break}delete e[ge]}},xe={directives:{ClickOutside:ye},props:{placeholder:{default:"Type here"},showClearButton:{default:!1},query:{default:""},delay:{default:80}},data:function(){return{currentSelected:-1,showSuggestions:!1,showLoading:!1,loadingError:null,suggestions:[],currentQuery:this.query}},watch:{query:function(e){this.currentQuery=e}},methods:{refresh:function(){this.showSuggestions&&this.getSuggestionsInternal()},menuClicked:function(){this.$emit("menuClicked")},hideSuggestions:function(){this.showSuggestions=!1,this.showLoading=!1,this.pendingKeyToShow=!0},showIfNeeded:function(e){this.pendingKeyToShow||(this.showSuggestions=e)},focus:function(){this.$refs.input.focus()},pickSuggestion:function(e){this.currentQuery=e.text,this.hideSuggestions(),this.$emit("selected",this.currentQuery)},clearSearch:function(){var e={shouldProceed:!0};this.$emit("beforeClear",e),e.shouldProceed&&(this.currentQuery="",this.getSuggestionsInternal(),this.$emit("cleared"))},handleInput:function(e){this.currentQuery=e.target.value,this.$emit("inputChanged"),this.getSuggestionsInternal()},getSuggestionsInternal:function(){var e=this;e.previous&&(window.clearTimeout(e.previous),e.previous=null),e.currentQuery?e.previous=window.setTimeout((function(){var t=window.fuzzySearcher.find(e.currentQuery);if(Array.isArray(t))e.suggestions=t.map((function(e){return{selected:!1,text:e.text,html:e.html}})),e.currentSelected=-1,e.showIfNeeded(t&&t.length>0);else{if(!t)throw new Error("Could not parse suggestions response");e.loadingError=null,t.then((function(t){e.showLoading=!1,t=t||[],e.suggestions=t.map((function(e){return{selected:!1,text:e.text,html:e.html}})),e.currentSelected=-1,e.showIfNeeded(t&&t.length>0)}),(function(t){e.loadingError=t}))}}),e.delay):this.showSuggestions=!1},cycleTheList:function(e){var t,n=this.suggestions,i=this.currentSelected;if(this.pendingKeyToShow=!1,38===e.which)t=-1;else if(40===e.which)t=1;else{if(13===e.which)return n[i]?this.pickSuggestion(n[i]):this.pickSuggestion({text:this.currentQuery}),void e.preventDefault();27===e.which&&this.hideSuggestions()}t&&0!==n.length&&(e.preventDefault(),i>=0&&(this.suggestions[i].selected=!1),i+=t,i<0&&(i=n.length-1),i>=n.length&&(i=0),this.suggestions[i].selected=!0,this.currentSelected=i)}}},_e=xe,Ce=(n("234b"),Object(le["a"])(_e,pe,me,!1,null,null,null)),ke=Ce.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar"},[n("div",{staticClass:"row"},[n("h3",[e._v("Map of Reddit")]),n("a",{staticClass:"close-btn",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onClose(t)}}},[n("svg",{staticClass:"feather feather-x-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[n("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),n("line",{attrs:{x1:"15",y1:"9",x2:"9",y2:"15"}}),n("line",{attrs:{x1:"9",y1:"9",x2:"15",y2:"15"}})])])]),e._m(0)])},Ee=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("p",[e._v(" Each dot is a subreddit. Two dots within the same cluster are usually close to each other if multiple users frequently leave comments on both subreddits. ")]),n("p",[e._v(" If you find something missing, please feel free to "),n("a",{staticClass:"accent",attrs:{href:"https://github.com/anvaka/map-of-reddit-data#how-to-add-a-new-subreddit",target:"_blank"}},[e._v("edit the map")]),e._v(". ")]),n("p",[e._v(" I spent last couple years developing this website as a hobby project. If you enjoy this work please support it "),n("a",{staticClass:"accent",attrs:{href:"https://www.patreon.com/anvaka"}},[e._v("on Patreon")]),e._v(" or "),n("a",{staticClass:"accent",attrs:{href:"https://github.com/sponsors/anvaka"}},[e._v("GitHub")]),e._v(" and I promise to not disappoint you with new features :). ")]),n("p",[e._v(" Please follow me on Twitter to stay in touch: "),n("a",{staticClass:"accent",attrs:{href:"https://twitter.com/anvaka"}},[e._v("https://twitter.com/anvaka")]),e._v(". ")]),n("p",[e._v(" Thank you for your interest and support! ")])])}],Le={mounted:function(){window.addEventListener("keydown",this.handleKeyDown)},beforeDestroy:function(){window.removeEventListener("keydown",this.handleKeyDown)},methods:{onClose:function(){this.$emit("close")},handleKeyDown:function(e){27===e.which&&this.onClose()}}},Te=Le,Pe=Object(le["a"])(Te,Se,Ee,!1,null,null,null),Oe=Pe.exports,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Improve this map")]),n("a",{staticClass:"close-btn",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onClose(t)}}},[n("svg",{staticClass:"feather feather-x-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[n("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),n("line",{attrs:{x1:"15",y1:"9",x2:"9",y2:"15"}}),n("line",{attrs:{x1:"9",y1:"9",x2:"15",y2:"15"}})])]),n("p",[e._v("The entire website is open source. You can contribute in multiple ways:")]),e._m(0),e._v(" Thank you for your support! "),n("br"),e._v(" ♥️ Anvaka ")])},Ne=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v(" Discuss this product on our own subreddit: "),n("a",{staticClass:"accent",attrs:{href:"https://www.reddit.com/r/MofR/"}},[e._v("/r/MofR")])]),n("li",[e._v("Support this work "),n("a",{staticClass:"accent",attrs:{href:"https://www.patreon.com/anvaka"}},[e._v("on Patreon")]),e._v(" or "),n("a",{staticClass:"accent",attrs:{href:"https://github.com/sponsors/anvaka"}},[e._v("GitHub")]),e._v(". There is a lot of things I'd love to improve about this project, but without your support I wouldn't know if I'm moving in the right direction. ")]),n("li",[e._v(" Add new subreddits or update positions of existing ones if you found an issue. Please follow instructions "),n("a",{staticClass:"accent",attrs:{href:"https://github.com/anvaka/map-of-reddit-data#how-to-add-a-new-subreddit",target:"_blank"}},[e._v("here")]),e._v(". ")]),n("li",[e._v("If you found a rendering bug - consider reporting it or fixing it "),n("a",{staticClass:"accent",attrs:{href:"https://github.com/anvaka/map-of-reddit",target:"_blank"}},[e._v("here")]),e._v(". ")]),n("li",[e._v(" Share your suggestions and follow me on Twitter. My direct messages are open: "),n("a",{staticClass:"accent",attrs:{href:"https://twitter.com/anvaka"}},[e._v("https://twitter.com/anvaka")])])])}],Ie={mounted:function(){window.addEventListener("keydown",this.handleKeyDown)},beforeDestroy:function(){window.removeEventListener("keydown",this.handleKeyDown)},methods:{onClose:function(){this.$emit("close")},handleKeyDown:function(e){27===e.which&&this.onClose()}}},Ge=Ie,De=Object(le["a"])(Ge,je,Ne,!1,null,null,null),Me=De.exports,Fe=n("8417"),ze=n.n(Fe),Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"small-preview-container",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showFullPreview(t)}}},[n("div",{staticClass:"header"},[n("span",[e._v("r/"+e._s(e.name))]),e.details?n("span",{staticClass:"subscribers-count"},[e._v(e._s(e.details.subscribers)+" members · "+e._s(e.details.active)+" active")]):e._e()]),e.loading?n("loading-icon"):e._e(),e.details&&e.details.image?n("img",{staticClass:"community-icon",attrs:{src:e.details.image.icon}}):e._e(),e.details?n("div",{staticClass:"info"},[e._v(e._s(e.details.description))]):e._e()],1)},He=[],Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"loader",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"28",height:"28",fill:"white"}},[n("path",{attrs:{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}}),n("path",{attrs:{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"}},[n("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"0.8s",repeatCount:"indefinite"}})],1)])},Ae=[],qe={},Be=Object(le["a"])(qe,Ve,Ae,!1,null,null,null),$e=Be.exports,Qe={name:"SmallPreview",props:["name"],components:{LoadingIcon:$e},data:function(){return{loading:!0,details:null}},watch:{name:function(){this.getSubredditInfo()}},mounted:function(){this.getSubredditInfo()},methods:{showFullPreview:function(){m.fire("show-subreddit",this.name,!0)},getSubredditInfo:function(){var e=this,t=this.name;this.details=null,this.loading=!0,fetch("https://www.reddit.com/r/"+t+"/about.json",{mode:"cors"}).then((function(e){return e.json()})).then((function(n){if(e.name===t){var i=n.data,o=i.public_description,r=i.display_name_prefixed,a=b(i.subscribers),s=b(i.accounts_active);e.loading=!1;var c=null,u=i.icon_img||i.community_icon;if(u){var d=i.banner_img||i.banner_background_image;c={icon:u.split("?")[0],banner:d?d.split("?")[0]:null}}i.over18&&!window.ageConfirmed&&(c=null),e.details={description:o,displayName:r,subscribers:a,active:s,image:c}}}))}}},We=Qe,Ye=(n("1747"),Object(le["a"])(We,Re,He,!1,null,null,null)),Ke=Ye.exports;function Ue(e){window.addEventListener("mousedown",n,!0),window.addEventListener("wheel",n,!0),window.addEventListener("touchstart",n,!0),window.addEventListener("keydown",n,!0);var t=!1;return i;function n(){t||(t=!0,e())}function i(){window.removeEventListener("mousedown",n,!0),window.removeEventListener("wheel",n,!0),window.removeEventListener("touchstart",n,!0),window.removeEventListener("keydown",n,!0)}}var Ze={components:{Tooltip:he,Typeahead:ke,Subreddit:ze.a,Sidebar:Oe,ImproveWindow:Me,SmallPreview:Ke},name:"app",methods:{showRelated:function(){this.scene.showRelated(this.subreddit),Xe()&&(this.smallPreview=this.subreddit,this.subreddit=null)},findSubreddit:function(e){z.query=e,this.onSubmit()},closeSubredditOnSmallScreen:function(e){z.userTypedSomething=!0,Xe()&&this.subreddit&&(e.shouldProceed=!1,this.subreddit=null,this.scene.focus())},onTypeAheadInput:function(){this.typeaheadChanged=!0,z.userTypedSomething=!0},onDeclineAge:function(e){e.preventDefault(),this.closeSubredditViewer()},onBackdropClick:function(){this.sidebarVisible=!1,this.improveVisible=!1},onImproveClick:function(){this.improveVisible=!0},closeSubredditViewer:function(){this.subreddit=null,this.smallPreview=null,z.query="",z.saveQuery(z.query),m.fire("unfocus")},showTooltip:function(e){this.tooltip=e||null},onSubmit:function(){m.fire("focus-node",z.query),z.saveQuery(z.query),this.subgraphName=null},onSubgraphRootClick:function(){m.fire("subgraph-focus-node",this.subgraphName)},onExitSubgraph:function(){m.fire("exit-subgraph"),this.subgraphName=null},showSubreddit:function(e,t){Xe()&&!t?this.smallPreview=e:(this.smallPreview=null,this.subreddit=e),z.query=e,this.tooltip=null,z.saveQuery(z.query)},setProgress:function(e){var t=this;e&&e.mapLoaded?(this.typeaheadChanged||(this.progressMessage=e.error?"Something is likely not right...":"Map is ready to use. Please enjoy"),this.graphLoaded=!0,this.disposeFirstListener=Ue((function(){setTimeout((function(){return t.progressMessage=null}),3e3)}))):e&&e.subgraphDone?(this.progressMessage=null,this.subgraphName=e.subgraphName):e&&(this.progressMessage=e.message,this.subgraphVisualized=null)}},data:function(){return{improveVisible:!1,isWebGLEnabled:!1,typeaheadChanged:!1,tooltip:null,subgraphName:null,subreddit:null,smallPreview:null,sidebarVisible:!1,progressMessage:"",graphLoaded:!1,appState:z}},mounted:function(){var e=document.getElementById("cnv");if(this.isWebGLEnabled=Object(c["f"])(e),this.isWebGLEnabled){var t=ee(e),n=z.getFilePath();t.loadSVG(n),this.scene=t,m.on("show-tooltip",this.showTooltip),m.on("show-subreddit",this.showSubreddit),m.on("progress",this.setProgress)}},beforeDestroy:function(){this.scene&&this.scene.dispose(),this.disposeFirstListener&&this.disposeFirstListener(),m.off("show-tooltip",this.showTooltip),m.off("show-subreddit",this.showSubreddit),m.off("progress",this.setProgress)}};function Xe(){return window.innerWidth<550}var Je=Ze,et=(n("7faf"),Object(le["a"])(Je,o,r,!1,null,null,null)),tt=et.exports;i["default"].config.productionTip=!1,new i["default"]({render:function(e){return e(tt)}}).$mount("#app")},"7faf":function(e,t,n){"use strict";n("b8ff")},b8ff:function(e,t,n){},ea0a:function(e,t,n){},fd76:function(e,t,n){}});
//# sourceMappingURL=app.1b7c829b.js.map